---
title: 'Creating Scenario'
description: 'Learn how to create scenarios for your agents'
---

# Create Scenario API

Create a new scenario for a specific agent with defined metrics and personality traits.

## API Endpoint

| Method | Endpoint |
|--------|----------|
| `POST` | `https://new-prod.vocera.ai/test_framework/v1/scenarios-external/` |

## Authentication

Include your API key in the request headers:

| Header | Description |
|--------|-------------|
| `X-VOCERA-API-KEY` | Your API key obtained from the dashboard |

## Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `name` | string | Yes | Name of the scenario |
| `personality` | integer | Yes | ID of the personality to use |
| `instructions` | string | Yes | Instructions for the scenario |
| `agent` | integer | Yes | ID of the agent |
| `metrics` | array | Yes | Array of metric IDs to track |

### Example Request Body

```json
{
  "name": "Demo scenario",
  "personality": 2,
  "instructions": "Some instructions",
  "agent": 4,
  "metrics": [11, 1]
}
```

## Response

A successful request returns the created scenario details.

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | integer | Unique identifier for the scenario |
| `name` | string | Name of the scenario |
| `agent` | integer | ID of the associated agent |
| `personality` | integer | ID of the personality used |
| `personality_name` | string | Human-readable name of the personality |
| `retell_agent_id` | string | UUID of the retell agent |
| `runs` | array | List of scenario runs (empty for new scenarios) |
| `metrics` | array | List of metric IDs being tracked |
| `metric_names` | array | Human-readable names of the metrics |
| `instructions` | string | Scenario instructions |

### Example Response

```json
{
    "id": 202,
    "name": "Demo scenario",
    "agent": 4,
    "personality": 2,
    "personality_name": "Frustrated Dutch, English",
    "retell_agent_id": "edc58747-b69d-47a5-be64-a1d6309c6c65",
    "runs": [],
    "metrics": [11, 1],
    "metric_names": [
        "Deviation Avoidance",
        "Appointment Bookeds"
    ],
    "instructions": "Some instructions"
}
```

## Code Examples

<CodeGroup>

```bash Curl
curl -X POST https://new-prod.vocera.ai/test_framework/v1/scenario-external/ \
  -H "X-VOCERA-API-KEY: <your-api-key-here>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "<scenario-name>",
    "agent": <agent-id>,
    "personality": <personality-id>,
    "instructions": "<scenario-instructions>",
    "metrics": [<metric-id-1>, <metric-id-2>, ...]
  }'
```

```python Python
import requests

def create_scenario(api_key, name, agent_id, personality_id, instructions, metric_ids):
    url = 'https://new-prod.vocera.ai/test_framework/v1/scenario-external/'
    
    headers = {
        'X-VOCERA-API-KEY': api_key,
        'Content-Type': 'application/json'
    }
    
    data = {
        'name': name,
        'agent': agent_id,
        'personality': personality_id,
        'instructions': instructions,
        'metrics': metric_ids
    }

    response = requests.post(url, headers=headers, json=data)
    return response.json()
```

```javascript JavaScript
async function createScenario(apiKey, name, personalityId, instructions, agentId, metricIds) {
  const url = 'https://new-prod.vocera.ai/test_framework/v1/scenario-external/';
  
  const data = {
    name,
    personality: personalityId,
    instructions,
    agent: agentId,
    metrics: metricIds
  };

  const response = await fetch(url, {
    method: 'POST',
    headers: {
      'X-VOCERA-API-KEY': apiKey,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
  });

  return await response.json();
}
```

</CodeGroup>
