---
title: 'Updating Critical Workflow Metric Scenario'
description: 'Learn how to update the priority of critical workflow metric scenarios'
---

# Update Critical Workflow Metric Scenario API

Update the priority of an existing critical workflow metric scenario.

## API Endpoint

| Method | Endpoint |
|--------|----------|
| `PATCH` | `https://new-prod.vocera.ai/test_framework/v1/critical-metric-scenarios-external/:critical-scenario-id/` |

## Authentication

Include your API key in the request headers:

| Header | Description |
|--------|-------------|
| `X-VOCERA-API-KEY` | Your API key obtained from the dashboard |

## URL Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `critical-scenario-id` | integer | Yes | The ID of the critical workflow metric scenario to update |

## Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `priority` | string | Yes | New priority level for the scenario. Can be one of: "high", "medium", "low" or "not_a_bug" |

### Example Request Body

```json
{
    "priority": "low"
}
```

## Response Format

The API returns the updated critical workflow metric scenario details.

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | integer | Unique identifier for the critical scenario |
| `scenario` | string | Description of the critical workflow scenario |
| `priority` | string | Updated priority level |

### Example Response

```json
{
    "id": 30,
    "scenario": "The AI agent failed to inform the caller about the clinic's closure and did not offer a telemedicine appointment.",
    "priority": "low"
}
```

## Code Examples

<CodeGroup>

```bash Curl
curl -X PATCH https://new-prod.vocera.ai/test_framework/v1/critical-metric-scenarios-external/{critical_scenario_id}/ \
  -H "X-VOCERA-API-KEY: <your-api-key-here>" \
  -H "Content-Type: application/json" \
  -d '{
    "priority": "low"
  }'
```

```python Python
import requests

def update_critical_scenario(api_key, critical_scenario_id, priority):
    url = f'https://new-prod.vocera.ai/test_framework/v1/critical-metric-scenarios-external/{critical_scenario_id}/'
    
    headers = {
        'X-VOCERA-API-KEY': api_key,
        'Content-Type': 'application/json'
    }
    
    data = {
        'priority': priority
    }

    response = requests.patch(url, headers=headers, json=data)
    return response.json()
```

```javascript JavaScript
async function updateCriticalScenario(apiKey, criticalScenarioId, priority) {
  const url = `https://new-prod.vocera.ai/test_framework/v1/critical-metric-scenarios-external/${criticalScenarioId}/`;
  
  const response = await fetch(url, {
    method: 'PATCH',
    headers: {
      'X-VOCERA-API-KEY': apiKey,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ priority })
  });

  return await response.json();
}
```

</CodeGroup>
