---
title: 'Running Scenarios'
description: 'Learn how to run multiple scenarios simultaneously'
---

# Run Scenarios API

Run multiple scenarios at once and receive their execution details.

## API Endpoint

| Method | Endpoint |
|--------|----------|
| `POST` | `https://new-prod.vocera.ai/test_framework/v1/scenarios-external/run_scenarios/` |

## Authentication

Include your API key in the request headers:

| Header | Description |
|--------|-------------|
| `X-VOCERA-API-KEY` | Your API key obtained from the dashboard |

## Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `scenarios` | array\|string\|integer | Yes | Array of scenario IDs to run OR `"all"` to run all OR number to run first N scenarios |
| `agent_id` | integer | Yes | Required only when `scenarios` is `"all"` OR is number of first N scenarios |

### Example Request Body
Running scenarios using ids
```json
{
    "scenarios": [201, 187]
}
```

Running all scenarios
```json
{
    "agent_id": 1,
    "scenarios": "all"
}
```

Running first N scenarios
```json
{
    "agent_id": 1,
    "scenarios": 10
}
```

## Response

A successful request returns details about the running scenarios.

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | integer | The scenario ID |
| `phone_number` | string | Phone number assigned for the scenario |
| `information_fields` | object | Additional scenario-specific information |

### Example Response

```json
[
    {
        "id": 201,
        "phone_number": "+14159976447",
        "information_fields": {
            "name": "Edwin",
            "age": 25
        }
    },
    {
        "id": 187,
        "phone_number": "+14159976447",
        "information_fields": {}
    }
]
```

## Code Examples

<CodeGroup>

```bash Curl
# Running using scenario IDs
curl -X POST https://new-prod.vocera.ai/test_framework/v1/scenarios-external/run_scenarios/ \
  -H "X-VOCERA-API-KEY: <your-api-key-here>" \
  -H "Content-Type: application/json" \
  -d '{"scenarios": [<scenario-id-1>, <scenario-id-2>, ...]}'

# Running all scenarios
curl -X POST https://new-prod.vocera.ai/test_framework/v1/scenarios-external/run_scenarios/ \
  -H "X-VOCERA-API-KEY: <your-api-key-here>" \
  -H "Content-Type: application/json" \
  -d '{
    "scenarios": "all",
    "agent_id": <agent-id>
  }'

# Running first N scenarios
curl -X POST https://new-prod.vocera.ai/test_framework/v1/scenarios-external/run_scenarios/ \
  -H "X-VOCERA-API-KEY: <your-api-key-here>" \
  -H "Content-Type: application/json" \
  -d '{
    "scenarios": <number-of-scenarios>,
    "agent_id": <agent-id>
  }'
```

```python Python
def run_scenarios(api_key, scenarios, agent_id=None):
    url = 'https://new-prod.vocera.ai/test_framework/v1/scenarios-external/run_scenarios/'

    headers = {
        'X-VOCERA-API-KEY': api_key,
        'Content-Type': 'application/json'
    }

    data = {
        'scenarios': scenarios
    }

    if isinstance(scenarios, (int, str)):
        if agent_id is None:
            raise ValueError("`agent_id` is required when scenarios is int or str")

        data["agent_id"] = agent_id

    response = requests.post(url, headers=headers, json=data)
    return response.json()
```

```javascript JavaScript
async function runScenarios(apiKey, scenarios, agentId=null) {
  const url = 'https://new-prod.vocera.ai/test_framework/v1/scenarios-external/run_scenarios/';

  const data = {
    scenarios: scenarios
  }

  if (typeof scenarios === 'number' || typeof scenarios === 'string') {
    if (!agentId) {
      throw new Error('`agentId` is required when scenarios is number or string');
    }
    data.agent_id = agentId;
  }

  const response = await fetch(url, {
    method: 'POST',
    headers: {
      'X-VOCERA-API-KEY': apiKey
    },
    body: JSON.stringify(data)
  });

  return await response.json();
}
```

</CodeGroup>
